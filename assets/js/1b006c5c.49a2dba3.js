"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[99],{9027:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>x,frontMatter:()=>i,metadata:()=>d,toc:()=>o});var l=s(4848),c=s(8453);const i={},r="DNMP",d={id:"Docker/DNMP/index",title:"DNMP",description:"DNMP\uff08Docker + Nginx/Openresty + MySQL5,8 + PHP5,7,8 + Redis + ElasticSearch + MongoDB + RabbitMQ\uff09\u662f\u4e00\u6b3e\u5168\u529f\u80fd\u7684LNMP \u4e00\u952e\u5b89\u88c5\u7a0b\u5e8f\uff0c\u652f\u6301 Arm CPU\u3002",source:"@site/docs/Docker/DNMP/index.md",sourceDirName:"Docker/DNMP",slug:"/Docker/DNMP/",permalink:"/docs/Docker/DNMP/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/docs/tutorial-extras/translate-your-site"},next:{title:"FreshRSS",permalink:"/docs/RSS/FreshRSS/"}},h={},o=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"1.\u76ee\u5f55\u7ed3\u6784",id:"1\u76ee\u5f55\u7ed3\u6784",level:2},{value:"2.\u5feb\u901f\u4f7f\u7528",id:"2\u5feb\u901f\u4f7f\u7528",level:2},{value:"3.PHP \u548c\u6269\u5c55",id:"3php-\u548c\u6269\u5c55",level:2},{value:"3.1 \u5207\u6362 Nginx \u4f7f\u7528\u7684 PHP \u7248\u672c",id:"31-\u5207\u6362-nginx-\u4f7f\u7528\u7684-php-\u7248\u672c",level:3},{value:"3.2 \u5b89\u88c5 PHP \u6269\u5c55",id:"32-\u5b89\u88c5-php-\u6269\u5c55",level:3},{value:"3.3 \u5feb\u901f\u5b89\u88c5 php \u6269\u5c55",id:"33-\u5feb\u901f\u5b89\u88c5-php-\u6269\u5c55",level:3},{value:"3.4 Host \u4e2d\u4f7f\u7528 php \u547d\u4ee4\u884c\uff08php-cli\uff09",id:"34-host-\u4e2d\u4f7f\u7528-php-\u547d\u4ee4\u884cphp-cli",level:3},{value:"3.5 \u4f7f\u7528 composer",id:"35-\u4f7f\u7528-composer",level:3},{value:"4.\u7ba1\u7406\u547d\u4ee4",id:"4\u7ba1\u7406\u547d\u4ee4",level:2},{value:"4.1 \u670d\u52a1\u5668\u542f\u52a8\u548c\u6784\u5efa\u547d\u4ee4",id:"41-\u670d\u52a1\u5668\u542f\u52a8\u548c\u6784\u5efa\u547d\u4ee4",level:3},{value:"4.2 \u6dfb\u52a0\u5feb\u6377\u547d\u4ee4",id:"42-\u6dfb\u52a0\u5feb\u6377\u547d\u4ee4",level:3},{value:"4.3 \u67e5\u770b docker \u7f51\u7edc",id:"43-\u67e5\u770b-docker-\u7f51\u7edc",level:3},{value:"5.\u4f7f\u7528 Log",id:"5\u4f7f\u7528-log",level:2},{value:"5.1 Nginx \u65e5\u5fd7",id:"51-nginx-\u65e5\u5fd7",level:3},{value:"5.2 PHP-FPM \u65e5\u5fd7",id:"52-php-fpm-\u65e5\u5fd7",level:3},{value:"5.3 MySQL \u65e5\u5fd7",id:"53-mysql-\u65e5\u5fd7",level:3},{value:"6.\u6570\u636e\u5e93\u7ba1\u7406",id:"6\u6570\u636e\u5e93\u7ba1\u7406",level:2},{value:"6.1 phpMyAdmin",id:"61-phpmyadmin",level:3},{value:"6.2 phpRedisAdmin",id:"62-phpredisadmin",level:3},{value:"7.\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u5b89\u5168\u4f7f\u7528",id:"7\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u5b89\u5168\u4f7f\u7528",level:2},{value:"8 \u5e38\u89c1\u95ee\u9898",id:"8-\u5e38\u89c1\u95ee\u9898",level:2},{value:"8.1 \u5982\u4f55\u5728 PHP \u4ee3\u7801\u4e2d\u4f7f\u7528 curl\uff1f",id:"81-\u5982\u4f55\u5728-php-\u4ee3\u7801\u4e2d\u4f7f\u7528-curl",level:3},{value:"8.2 Docker \u4f7f\u7528 cron \u5b9a\u65f6\u4efb\u52a1",id:"82-docker-\u4f7f\u7528-cron-\u5b9a\u65f6\u4efb\u52a1",level:3},{value:"8.3 Docker \u5bb9\u5668\u65f6\u95f4",id:"83-docker-\u5bb9\u5668\u65f6\u95f4",level:3},{value:"8.4 \u5982\u4f55\u8fde\u63a5 MySQL \u548c Redis \u670d\u52a1\u5668",id:"84-\u5982\u4f55\u8fde\u63a5-mysql-\u548c-redis-\u670d\u52a1\u5668",level:3},{value:"8.5 \u5bb9\u5668\u5185\u7684 php \u5982\u4f55\u8fde\u63a5\u5bbf\u4e3b\u673a MySQL",id:"85-\u5bb9\u5668\u5185\u7684-php-\u5982\u4f55\u8fde\u63a5\u5bbf\u4e3b\u673a-mysql",level:3},{value:"8.6 SQLSTATE[HY000] [1130] Host &#39;172.19.0.2&#39; is not allowed to connect to this MySQL server",id:"86-sqlstatehy000-1130-host-1721902-is-not-allowed-to-connect-to-this-mysql-server",level:3},{value:"8.7 Docker \u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d",id:"87-docker-\u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d",level:3}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"dnmp",children:"DNMP"}),"\n",(0,l.jsxs)(n.p,{children:["DNMP\uff08Docker + Nginx/Openresty + MySQL5,8 + PHP5,7,8 + Redis + ElasticSearch + MongoDB + RabbitMQ\uff09\u662f\u4e00\u6b3e\u5168\u529f\u80fd\u7684",(0,l.jsx)(n.strong,{children:"LNMP \u4e00\u952e\u5b89\u88c5\u7a0b\u5e8f\uff0c\u652f\u6301 Arm CPU"}),"\u3002"]}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"\u9879\u76ee\u5730\u5740"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/yeszao/dnmp",children:"GitHub \u5730\u5740"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://gitee.com/yeszao/dnmp",children:"Gitee \u5730\u5740"})}),"\n"]})]}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"DNMP\u9879\u76ee\u7279\u70b9"}),(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"100%"}),"\u5f00\u6e90"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"100%"}),"\u9075\u5faa Docker \u6807\u51c6"]}),"\n",(0,l.jsxs)(n.li,{children:["\u652f\u6301",(0,l.jsx)(n.strong,{children:"\u591a\u7248\u672c PHP"}),"\u5171\u5b58\uff0c\u53ef\u4efb\u610f\u5207\u6362\uff08PHP5.4\u3001PHP5.6\u3001PHP7.1\u3001PHP7.2\u3001PHP7.3\u3001PHP7.4\u3001PHP8.0)"]}),"\n",(0,l.jsxs)(n.li,{children:["\u652f\u6301\u7ed1\u5b9a",(0,l.jsx)(n.strong,{children:"\u4efb\u610f\u591a\u4e2a\u57df\u540d"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u652f\u6301",(0,l.jsx)(n.strong,{children:"HTTPS \u548c HTTP/2"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"PHP \u6e90\u4ee3\u7801\u3001MySQL \u6570\u636e\u3001\u914d\u7f6e\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6"}),"\u90fd\u53ef\u5728 Host \u4e2d\u76f4\u63a5\u4fee\u6539\u67e5\u770b"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5185\u7f6e",(0,l.jsx)(n.strong,{children:"\u5b8c\u6574 PHP \u6269\u5c55\u5b89\u88c5"}),"\u547d\u4ee4"]}),"\n",(0,l.jsxs)(n.li,{children:["\u9ed8\u8ba4\u652f\u6301",(0,l.jsx)(n.code,{children:"pdo_mysql"}),"\u3001",(0,l.jsx)(n.code,{children:"mysqli"}),"\u3001",(0,l.jsx)(n.code,{children:"mbstring"}),"\u3001",(0,l.jsx)(n.code,{children:"gd"}),"\u3001",(0,l.jsx)(n.code,{children:"curl"}),"\u3001",(0,l.jsx)(n.code,{children:"opcache"}),"\u7b49\u5e38\u7528\u70ed\u95e8\u6269\u5c55\uff0c\u6839\u636e\u73af\u5883\u7075\u6d3b\u914d\u7f6e"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53ef\u4e00\u952e\u9009\u914d\u5e38\u7528\u670d\u52a1\uff1a","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u591a PHP \u7248\u672c\uff1aPHP5.4\u3001PHP5.6\u3001PHP7.0-7.4\u3001PHP8.0"}),"\n",(0,l.jsx)(n.li,{children:"Web \u670d\u52a1\uff1aNginx\u3001Openresty"}),"\n",(0,l.jsx)(n.li,{children:"\u6570\u636e\u5e93\uff1aMySQL5\u3001MySQL8\u3001Redis\u3001memcached\u3001MongoDB\u3001ElasticSearch"}),"\n",(0,l.jsx)(n.li,{children:"\u6d88\u606f\u961f\u5217\uff1aRabbitMQ"}),"\n",(0,l.jsx)(n.li,{children:"\u8f85\u52a9\u5de5\u5177\uff1aKibana\u3001Logstash\u3001phpMyAdmin\u3001phpRedisAdmin\u3001AdminMongo"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5b9e\u9645\u9879\u76ee\u4e2d\u5e94\u7528\uff0c\u786e\u4fdd",(0,l.jsx)(n.code,{children:"100%"}),"\u53ef\u7528"]}),"\n",(0,l.jsxs)(n.li,{children:["\u6240\u6709\u955c\u50cf\u6e90\u4e8e",(0,l.jsx)(n.a,{href:"https://hub.docker.com",children:"Docker \u5b98\u65b9\u4ed3\u5e93"}),"\uff0c\u5b89\u5168\u53ef\u9760"]}),"\n",(0,l.jsxs)(n.li,{children:["\u4e00\u6b21\u914d\u7f6e\uff0c",(0,l.jsx)(n.strong,{children:"Windows\u3001Linux\u3001MacOs"}),"\u7686\u53ef\u7528"]}),"\n",(0,l.jsxs)(n.li,{children:["\u652f\u6301\u5feb\u901f\u5b89\u88c5\u6269\u5c55\u547d\u4ee4 ",(0,l.jsx)(n.code,{children:"install-php-extensions apcu"})]}),"\n",(0,l.jsx)(n.li,{children:"\u652f\u6301\u5b89\u88c5 certbot \u83b7\u53d6\u514d\u8d39 https \u7528\u7684 SSL \u8bc1\u4e66"}),"\n"]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u76ee\u5f55",children:"\u76ee\u5f55"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#dnmp",children:"DNMP"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#%E7%9B%AE%E5%BD%95",children:"\u76ee\u5f55"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#1%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84",children:"1.\u76ee\u5f55\u7ed3\u6784"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#2%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8",children:"2.\u5feb\u901f\u4f7f\u7528"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#3php-%E5%92%8C%E6%89%A9%E5%B1%95",children:"3.PHP \u548c\u6269\u5c55"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#31-%E5%88%87%E6%8D%A2-nginx-%E4%BD%BF%E7%94%A8%E7%9A%84-php-%E7%89%88%E6%9C%AC",children:"3.1 \u5207\u6362 Nginx \u4f7f\u7528\u7684 PHP \u7248\u672c"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#32-%E5%AE%89%E8%A3%85-php-%E6%89%A9%E5%B1%95",children:"3.2 \u5b89\u88c5 PHP \u6269\u5c55"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#33-%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85-php-%E6%89%A9%E5%B1%95",children:"3.3 \u5feb\u901f\u5b89\u88c5 php \u6269\u5c55"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#34-host-%E4%B8%AD%E4%BD%BF%E7%94%A8-php-%E5%91%BD%E4%BB%A4%E8%A1%8Cphp-cli",children:"3.4 Host \u4e2d\u4f7f\u7528 php \u547d\u4ee4\u884c\uff08php-cli\uff09"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#35-%E4%BD%BF%E7%94%A8-composer",children:"3.5 \u4f7f\u7528 composer"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#4%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4",children:"4.\u7ba1\u7406\u547d\u4ee4"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#41-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%90%AF%E5%8A%A8%E5%92%8C%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4",children:"4.1 \u670d\u52a1\u5668\u542f\u52a8\u548c\u6784\u5efa\u547d\u4ee4"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#42-%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4",children:"4.2 \u6dfb\u52a0\u5feb\u6377\u547d\u4ee4"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#43-%E6%9F%A5%E7%9C%8B-docker-%E7%BD%91%E7%BB%9C",children:"4.3 \u67e5\u770b docker \u7f51\u7edc"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#5%E4%BD%BF%E7%94%A8-log",children:"5.\u4f7f\u7528 Log"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#51-nginx-%E6%97%A5%E5%BF%97",children:"5.1 Nginx \u65e5\u5fd7"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#52-php-fpm-%E6%97%A5%E5%BF%97",children:"5.2 PHP-FPM \u65e5\u5fd7"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#53-mysql-%E6%97%A5%E5%BF%97",children:"5.3 MySQL \u65e5\u5fd7"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#6%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86",children:"6.\u6570\u636e\u5e93\u7ba1\u7406"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#61-phpmyadmin",children:"6.1 phpMyAdmin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#62-phpredisadmin",children:"6.2 phpRedisAdmin"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#7%E5%9C%A8%E6%AD%A3%E5%BC%8F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E5%85%A8%E4%BD%BF%E7%94%A8",children:"7.\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u5b89\u5168\u4f7f\u7528"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"#8-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98",children:"8 \u5e38\u89c1\u95ee\u9898"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#81-%E5%A6%82%E4%BD%95%E5%9C%A8-php-%E4%BB%A3%E7%A0%81%E4%B8%AD%E4%BD%BF%E7%94%A8-curl",children:"8.1 \u5982\u4f55\u5728 PHP \u4ee3\u7801\u4e2d\u4f7f\u7528 curl\uff1f"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#82-docker-%E4%BD%BF%E7%94%A8-cron-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1",children:"8.2 Docker \u4f7f\u7528 cron \u5b9a\u65f6\u4efb\u52a1"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#83-docker-%E5%AE%B9%E5%99%A8%E6%97%B6%E9%97%B4",children:"8.3 Docker \u5bb9\u5668\u65f6\u95f4"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#84-%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5-mysql-%E5%92%8C-redis-%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"8.4 \u5982\u4f55\u8fde\u63a5 MySQL \u548c Redis \u670d\u52a1\u5668"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#85-%E5%AE%B9%E5%99%A8%E5%86%85%E7%9A%84-php-%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E5%AE%BF%E4%B8%BB%E6%9C%BA-mysql",children:"8.5 \u5bb9\u5668\u5185\u7684 php \u5982\u4f55\u8fde\u63a5\u5bbf\u4e3b\u673a MySQL"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#86-sqlstatehy000-1130-host-1721902-is-not-allowed-to-connect-to-this-mysql-server",children:"8.6 SQLSTATE[HY000] [1130] Host '172.19.0.2' is not allowed to connect to this MySQL server"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#87-docker-%E6%98%AF%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E5%AE%B9%E5%99%A8%E5%90%8D",children:"8.7 Docker \u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"1\u76ee\u5f55\u7ed3\u6784",children:"1.\u76ee\u5f55\u7ed3\u6784"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"/\n\u251c\u2500\u2500 data                        \u6570\u636e\u5e93\u6570\u636e\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 esdata                  ElasticSearch \u6570\u636e\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 mongo                   MongoDB \u6570\u636e\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 mysql                   MySQL8 \u6570\u636e\u76ee\u5f55\n\u2502\xa0\xa0 \u2514\u2500\u2500 mysql5                  MySQL5 \u6570\u636e\u76ee\u5f55\n\u251c\u2500\u2500 services                    \u670d\u52a1\u6784\u5efa\u6587\u4ef6\u548c\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 elasticsearch           ElasticSearch \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 mysql                   MySQL8 \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 mysql5                  MySQL5 \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 nginx                   Nginx \u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 php                     PHP5.6 - PHP7.4 \u914d\u7f6e\u76ee\u5f55\n\u2502\xa0\xa0 \u251c\u2500\u2500 php54                   PHP5.4 \u914d\u7f6e\u76ee\u5f55\n\u2502\xa0\xa0 \u2514\u2500\u2500 redis                   Redis \u914d\u7f6e\u76ee\u5f55\n\u251c\u2500\u2500 logs                        \u65e5\u5fd7\u76ee\u5f55\n\u251c\u2500\u2500 docker-compose.sample.yml   Docker \u670d\u52a1\u914d\u7f6e\u793a\u4f8b\u6587\u4ef6\n\u251c\u2500\u2500 env.smaple                  \u73af\u5883\u914d\u7f6e\u793a\u4f8b\u6587\u4ef6\n\u2514\u2500\u2500 www                         PHP \u4ee3\u7801\u76ee\u5f55\n"})}),"\n",(0,l.jsx)(n.h2,{id:"2\u5feb\u901f\u4f7f\u7528",children:"2.\u5feb\u901f\u4f7f\u7528"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u672c\u5730\u5b89\u88c5"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"git"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Docker"}),"(\u7cfb\u7edf\u9700\u4e3a Linux\uff0cWindows 10 Build 15063+\uff0c\u6216 MacOS 10.12+\uff0c\u4e14\u5fc5\u987b\u8981",(0,l.jsx)(n.code,{children:"64"}),"\u4f4d\uff09"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"docker-compose 1.7.0+"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"clone"}),"\u9879\u76ee\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"$ git clone https://github.com/yeszao/dnmp.git\n# \u5047\u5982\u901f\u5ea6\u592a\u6162\uff0c\u53ef\u4ee5\u4f7f\u7528\u52a0\u901f\u62c9\u53d6\u955c\u50cf\n$ git clone https://github.com.cnpmjs.org/yeszao/dnmp.git\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u4e3b\u673a\u662f Linux \u7cfb\u7edf\uff0c\u4e14\u5f53\u524d\u7528\u6237\u4e0d\u662f",(0,l.jsx)(n.code,{children:"root"}),"\u7528\u6237\uff0c\u8fd8\u9700\u5c06\u5f53\u524d\u7528\u6237\u52a0\u5165",(0,l.jsx)(n.code,{children:"docker"}),"\u7528\u6237\u7ec4\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo gpasswd -a ${USER} docker\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u62f7\u8d1d\u5e76\u547d\u540d\u914d\u7f6e\u6587\u4ef6\uff08Windows \u7cfb\u7edf\u8bf7\u7528",(0,l.jsx)(n.code,{children:"copy"}),"\u547d\u4ee4\uff09\uff0c\u542f\u52a8\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"$ cd dnmp                                           # \u8fdb\u5165\u9879\u76ee\u76ee\u5f55\n$ cp env.sample .env                                # \u590d\u5236\u73af\u5883\u53d8\u91cf\u6587\u4ef6\n$ cp docker-compose.sample.yml docker-compose.yml   # \u590d\u5236 docker-compose \u914d\u7f6e\u6587\u4ef6\u3002\u9ed8\u8ba4\u542f\u52a83\u4e2a\u670d\u52a1\uff1a\n                                                    # Nginx\u3001PHP7\u548cMySQL8\u3002\u8981\u5f00\u542f\u66f4\u591a\u5176\u4ed6\u670d\u52a1\uff0c\u5982Redis\u3001\n                                                    # PHP5.6\u3001PHP5.4\u3001MongoDB\uff0cElasticSearch\u7b49\uff0c\u8bf7\u5220\n                                                    # \u9664\u670d\u52a1\u5757\u524d\u7684\u6ce8\u91ca\n$ docker-compose up                                 # \u542f\u52a8\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\uff1a",(0,l.jsx)(n.code,{children:"http://localhost"}),"\u6216",(0,l.jsx)(n.code,{children:"https://localhost"}),"(\u81ea\u7b7e\u540d HTTPS \u6f14\u793a)\u5c31\u80fd\u770b\u5230\u6548\u679c\uff0cPHP \u4ee3\u7801\u5728\u6587\u4ef6",(0,l.jsx)(n.code,{children:"./www/localhost/index.php"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"3php-\u548c\u6269\u5c55",children:"3.PHP \u548c\u6269\u5c55"}),"\n",(0,l.jsx)(n.h3,{id:"31-\u5207\u6362-nginx-\u4f7f\u7528\u7684-php-\u7248\u672c",children:"3.1 \u5207\u6362 Nginx \u4f7f\u7528\u7684 PHP \u7248\u672c"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\uff0c\u9700\u8981\u542f\u52a8\u5176\u4ed6\u7248\u672c\u7684 PHP\uff0c\u6bd4\u5982 PHP5.4\uff0c\u90a3\u5c31\u5148\u5728",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),"\u6587\u4ef6\u4e2d\u5220\u9664 PHP5.4 \u524d\u9762\u7684\u6ce8\u91ca\uff0c\u518d\u542f\u52a8 PHP5.4 \u5bb9\u5668\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["PHP5.4 \u542f\u52a8\u540e\uff0c\u6253\u5f00 Nginx \u914d\u7f6e\uff0c\u4fee\u6539",(0,l.jsx)(n.code,{children:"fastcgi_pass"}),"\u7684\u4e3b\u673a\u5730\u5740\uff0c\u7531",(0,l.jsx)(n.code,{children:"php"}),"\u6539\u4e3a",(0,l.jsx)(n.code,{children:"php54"}),"\uff0c\u5982\u4e0b\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"    fastcgi_pass   php:9000;\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e3a\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"    fastcgi_pass   php54:9000;\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,l.jsx)(n.code,{children:"php"})," \u548c ",(0,l.jsx)(n.code,{children:"php54"})," \u662f",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),"\u6587\u4ef6\u4e2d\u670d\u52a1\u5668\u7684\u540d\u79f0\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u6700\u540e\uff0c",(0,l.jsx)(n.strong,{children:"\u91cd\u542f Nginx"})," \u751f\u6548\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec -it nginx nginx -s reload\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8fd9\u91cc\u4e24\u4e2a",(0,l.jsx)(n.code,{children:"nginx"}),"\uff0c\u7b2c\u4e00\u4e2a\u662f\u5bb9\u5668\u540d\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5bb9\u5668\u4e2d\u7684",(0,l.jsx)(n.code,{children:"nginx"}),"\u7a0b\u5e8f\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"32-\u5b89\u88c5-php-\u6269\u5c55",children:"3.2 \u5b89\u88c5 PHP \u6269\u5c55"}),"\n",(0,l.jsxs)(n.p,{children:["PHP \u7684\u5f88\u591a\u529f\u80fd\u90fd\u662f\u901a\u8fc7\u6269\u5c55\u5b9e\u73b0\uff0c\u800c\u5b89\u88c5\u6269\u5c55\u662f\u4e00\u4e2a\u7565\u8d39\u65f6\u95f4\u7684\u8fc7\u7a0b\uff0c\n\u6240\u4ee5\uff0c\u9664 PHP \u5185\u7f6e\u6269\u5c55\u5916\uff0c\u5728",(0,l.jsx)(n.code,{children:"env.sample"}),"\u6587\u4ef6\u4e2d\u6211\u4eec\u4ec5\u9ed8\u8ba4\u5b89\u88c5\u5c11\u91cf\u6269\u5c55\uff0c\n\u5982\u679c\u8981\u5b89\u88c5\u66f4\u591a\u6269\u5c55\uff0c\u8bf7\u6253\u5f00\u4f60\u7684",(0,l.jsx)(n.code,{children:".env"}),"\u6587\u4ef6\u4fee\u6539\u5982\u4e0b\u7684 PHP \u914d\u7f6e\uff0c\n\u589e\u52a0\u9700\u8981\u7684 PHP \u6269\u5c55\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"PHP_EXTENSIONS=pdo_mysql,opcache,redis       # PHP \u8981\u5b89\u88c5\u7684\u6269\u5c55\u5217\u8868\uff0c\u82f1\u6587\u9017\u53f7\u9694\u5f00\nPHP54_EXTENSIONS=opcache,redis                 # PHP 5.4\u8981\u5b89\u88c5\u7684\u6269\u5c55\u5217\u8868\uff0c\u82f1\u6587\u9017\u53f7\u9694\u5f00\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u7136\u540e\u91cd\u65b0 build PHP \u955c\u50cf\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker-compose build php\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u53ef\u7528\u7684\u6269\u5c55\u8bf7\u770b\u540c\u6587\u4ef6\u7684",(0,l.jsx)(n.code,{children:"env.sample"}),"\u6ce8\u91ca\u5757\u8bf4\u660e\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"33-\u5feb\u901f\u5b89\u88c5-php-\u6269\u5c55",children:"3.3 \u5feb\u901f\u5b89\u88c5 php \u6269\u5c55"}),"\n",(0,l.jsx)(n.p,{children:"1.\u8fdb\u5165\u5bb9\u5668:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"docker exec -it php /bin/sh\n\ninstall-php-extensions apcu\n"})}),"\n",(0,l.jsx)(n.p,{children:"2.\u652f\u6301\u5feb\u901f\u5b89\u88c5\u6269\u5c55\u5217\u8868"}),"\n",(0,l.jsx)(n.h3,{id:"34-host-\u4e2d\u4f7f\u7528-php-\u547d\u4ee4\u884cphp-cli",children:"3.4 Host \u4e2d\u4f7f\u7528 php \u547d\u4ee4\u884c\uff08php-cli\uff09"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u53c2\u8003",(0,l.jsx)(n.a,{href:"https://github.com/yeszao/dnmp/blob/master/bash.alias.sample",children:"bash.alias.sample"}),"\u793a\u4f8b\u6587\u4ef6\uff0c\u5c06\u5bf9\u5e94 php cli \u51fd\u6570\u62f7\u8d1d\u5230\u4e3b\u673a\u7684 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"\u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8ba9\u6587\u4ef6\u8d77\u6548\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u4e3b\u673a\u4e2d\u6267\u884c php \u547d\u4ee4\u4e86\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"~ php -v\nPHP 7.2.13 (cli) (built: Dec 21 2018 02:22:47) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\n    with Zend OPcache v7.2.13, Copyright (c) 1999-2018, by Zend Technologies\n    with Xdebug v2.6.1, Copyright (c) 2002-2018, by Derick Rethans\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"35-\u4f7f\u7528-composer",children:"3.5 \u4f7f\u7528 composer"}),"\n",(0,l.jsx)(n.p,{children:"\u65b9\u6cd5 1\uff1a\u4e3b\u673a\u4e2d\u4f7f\u7528 composer \u547d\u4ee4"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u786e\u5b9a composer \u7f13\u5b58\u7684\u8def\u5f84\u3002\u6bd4\u5982\uff0c\u6211\u7684 dnmp \u4e0b\u8f7d\u5728",(0,l.jsx)(n.code,{children:"~/dnmp"}),"\u76ee\u5f55\uff0c\u90a3 composer \u7684\u7f13\u5b58\u8def\u5f84\u5c31\u662f",(0,l.jsx)(n.code,{children:"~/dnmp/data/composer"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u53c2\u8003",(0,l.jsx)(n.a,{href:"https://github.com/yeszao/dnmp/blob/master/bash.alias.sample",children:"bash.alias.sample"}),"\u793a\u4f8b\u6587\u4ef6\uff0c\u5c06\u5bf9\u5e94 php composer \u51fd\u6570\u62f7\u8d1d\u5230\u4e3b\u673a\u7684 ",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"\u6587\u4ef6\u3002"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u793a\u4f8b\u6587\u4ef6\u4e2d\u7684",(0,l.jsx)(n.code,{children:"~/dnmp/data/composer"}),"\u76ee\u5f55\u9700\u662f\u7b2c\u4e00\u6b65\u786e\u5b9a\u7684\u76ee\u5f55\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8ba9\u6587\u4ef6\u8d77\u6548\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5728\u4e3b\u673a\u7684\u4efb\u4f55\u76ee\u5f55\u4e0b\u5c31\u80fd\u7528 composer \u4e86\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd ~/dnmp/www/\ncomposer create-project yeszao/fastphp project --no-dev\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\uff08\u53ef\u9009\uff09\u7b2c\u4e00\u6b21\u4f7f\u7528 composer \u4f1a\u5728 ",(0,l.jsx)(n.code,{children:"~/dnmp/data/composer"})," \u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a",(0,l.jsx)(n.strong,{children:"config.json"}),"\u6587\u4ef6\uff0c\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u6307\u5b9a\u56fd\u5185\u4ed3\u5e93\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n"config": {},\n"repositories": {\n"packagist": {\n"type": "composer",\n"url": "https://mirrors.aliyun.com/composer/"\n}\n}\n}\n\n    ```\n\n**\u65b9\u6cd5\u4e8c\uff1a\u5bb9\u5668\u5185\u4f7f\u7528 composer \u547d\u4ee4**\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u65b9\u5f0f\uff0c\u5c31\u662f\u8fdb\u5165\u5bb9\u5668\uff0c\u518d\u6267\u884c",(0,l.jsx)(n.code,{children:"composer"}),"\u547d\u4ee4\uff0c\u4ee5 PHP7 \u5bb9\u5668\u4e3a\u4f8b\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec -it php /bin/sh\ncd /www/localhost\ncomposer update\n"})}),"\n",(0,l.jsx)(n.h2,{id:"4\u7ba1\u7406\u547d\u4ee4",children:"4.\u7ba1\u7406\u547d\u4ee4"}),"\n",(0,l.jsx)(n.h3,{id:"41-\u670d\u52a1\u5668\u542f\u52a8\u548c\u6784\u5efa\u547d\u4ee4",children:"4.1 \u670d\u52a1\u5668\u542f\u52a8\u548c\u6784\u5efa\u547d\u4ee4"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u9700\u7ba1\u7406\u670d\u52a1\uff0c\u8bf7\u5728\u547d\u4ee4\u540e\u9762\u52a0\u4e0a\u670d\u52a1\u5668\u540d\u79f0\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker-compose up                         # \u521b\u5efa\u5e76\u4e14\u542f\u52a8\u6240\u6709\u5bb9\u5668\ndocker-compose up -d                      # \u521b\u5efa\u5e76\u4e14\u540e\u53f0\u8fd0\u884c\u65b9\u5f0f\u542f\u52a8\u6240\u6709\u5bb9\u5668\ndocker-compose up nginx php mysql         # \u521b\u5efa\u5e76\u4e14\u542f\u52a8nginx\u3001php\u3001mysql\u7684\u591a\u4e2a\u5bb9\u5668\ndocker-compose up -d nginx php  mysql     # \u521b\u5efa\u5e76\u4e14\u5df2\u540e\u53f0\u8fd0\u884c\u7684\u65b9\u5f0f\u542f\u52a8nginx\u3001php\u3001mysql\u5bb9\u5668\n\n\ndocker-compose start php                  # \u542f\u52a8\u670d\u52a1\ndocker-compose stop php                   # \u505c\u6b62\u670d\u52a1\ndocker-compose restart php                # \u91cd\u542f\u670d\u52a1\ndocker-compose build php                  # \u6784\u5efa\u6216\u8005\u91cd\u65b0\u6784\u5efa\u670d\u52a1\n\ndocker-compose rm php                     # \u5220\u9664\u5e76\u4e14\u505c\u6b62php\u5bb9\u5668\ndocker-compose down                       # \u505c\u6b62\u5e76\u5220\u9664\u5bb9\u5668\uff0c\u7f51\u7edc\uff0c\u56fe\u50cf\u548c\u6302\u8f7d\u5377\n"})}),"\n",(0,l.jsx)(n.h3,{id:"42-\u6dfb\u52a0\u5feb\u6377\u547d\u4ee4",children:"4.2 \u6dfb\u52a0\u5feb\u6377\u547d\u4ee4"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u7ecf\u5e38\u4f7f\u7528",(0,l.jsx)(n.code,{children:"docker exec -it"}),"\u8fdb\u5165\u5230\u5bb9\u5668\u4e2d\uff0c\u628a\u5e38\u7528\u7684\u505a\u6210\u547d\u4ee4\u522b\u540d\u662f\u4e2a\u7701\u4e8b\u7684\u65b9\u6cd5\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u9996\u5148\uff0c\u5728\u4e3b\u673a\u4e2d\u67e5\u770b\u53ef\u7528\u7684\u5bb9\u5668\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker ps           # \u67e5\u770b\u6240\u6709\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\ndocker ps -a        # \u6240\u6709\u5bb9\u5668\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8f93\u51fa\u7684",(0,l.jsx)(n.code,{children:"NAMES"}),"\u90a3\u4e00\u5217\u5c31\u662f\u5bb9\u5668\u7684\u540d\u79f0\uff0c\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\uff0c\u90a3\u4e48\u540d\u79f0\u5c31\u662f",(0,l.jsx)(n.code,{children:"nginx"}),"\u3001",(0,l.jsx)(n.code,{children:"php"}),"\u3001",(0,l.jsx)(n.code,{children:"php56"}),"\u3001",(0,l.jsx)(n.code,{children:"mysql"}),"\u7b49\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7136\u540e\uff0c\u6253\u5f00",(0,l.jsx)(n.code,{children:"~/.bashrc"}),"\u6216\u8005",(0,l.jsx)(n.code,{children:"~/.zshrc"}),"\u6587\u4ef6\uff0c\u52a0\u4e0a\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"alias dnginx='docker exec -it nginx /bin/sh'\nalias dphp='docker exec -it php /bin/sh'\nalias dphp56='docker exec -it php56 /bin/sh'\nalias dphp54='docker exec -it php54 /bin/sh'\nalias dmysql='docker exec -it mysql /bin/bash'\nalias dredis='docker exec -it redis /bin/sh'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e0b\u6b21\u8fdb\u5165\u5bb9\u5668\u5c31\u975e\u5e38\u5feb\u6377\u4e86\uff0c\u5982\u8fdb\u5165 php \u5bb9\u5668\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"dphp\n"})}),"\n",(0,l.jsx)(n.h3,{id:"43-\u67e5\u770b-docker-\u7f51\u7edc",children:"4.3 \u67e5\u770b docker \u7f51\u7edc"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"ifconfig docker0\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u7528\u4e8e\u586b\u5199",(0,l.jsx)(n.code,{children:"extra_hosts"}),"\u5bb9\u5668\u8bbf\u95ee\u5bbf\u4e3b\u673a\u7684",(0,l.jsx)(n.code,{children:"hosts"}),"\u5730\u5740"]}),"\n",(0,l.jsx)(n.h2,{id:"5\u4f7f\u7528-log",children:"5.\u4f7f\u7528 Log"}),"\n",(0,l.jsx)(n.p,{children:"Log \u6587\u4ef6\u751f\u6210\u7684\u4f4d\u7f6e\u4f9d\u8d56\u4e8e conf \u4e0b\u5404 log \u914d\u7f6e\u7684\u503c\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"51-nginx-\u65e5\u5fd7",children:"5.1 Nginx \u65e5\u5fd7"}),"\n",(0,l.jsxs)(n.p,{children:["Nginx \u65e5\u5fd7\u662f\u6211\u4eec\u7528\u5f97\u6700\u591a\u7684\u65e5\u5fd7\uff0c\u6240\u4ee5\u6211\u4eec\u5355\u72ec\u653e\u5728\u6839\u76ee\u5f55",(0,l.jsx)(n.code,{children:"log"}),"\u4e0b\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"log"}),"\u4f1a\u76ee\u5f55\u6620\u5c04 Nginx \u5bb9\u5668\u7684",(0,l.jsx)(n.code,{children:"/var/log/nginx"}),"\u76ee\u5f55\uff0c\u6240\u4ee5\u5728 Nginx \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u9700\u8981\u8f93\u51fa log \u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6e\u5230",(0,l.jsx)(n.code,{children:"/var/log/nginx"}),"\u76ee\u5f55\uff0c\u5982\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"error_log  /var/log/nginx/nginx.localhost.error.log  warn;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"52-php-fpm-\u65e5\u5fd7",children:"5.2 PHP-FPM \u65e5\u5fd7"}),"\n",(0,l.jsx)(n.p,{children:"\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0cPHP-FPM \u7684\u65e5\u5fd7\u90fd\u4f1a\u8f93\u51fa\u5230 Nginx \u7684\u65e5\u5fd7\u4e2d\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u989d\u5916\u914d\u7f6e\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u53e6\u5916\uff0c\u5efa\u8bae\u76f4\u63a5\u5728 PHP \u4e2d\u6253\u5f00\u9519\u8bef\u65e5\u5fd7\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"error_reporting(E_ALL);\nini_set('error_reporting', 'on');\nini_set('display_errors', 'on');\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u786e\u5b9e\u9700\u8981\uff0c\u53ef\u6309\u4e00\u4e0b\u6b65\u9aa4\u5f00\u542f\uff08\u5728\u5bb9\u5668\u4e2d\uff09\u3002"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u8fdb\u5165\u5bb9\u5668\uff0c\u521b\u5efa\u65e5\u5fd7\u6587\u4ef6\u5e76\u4fee\u6539\u6743\u9650\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker exec -it php /bin/sh\nmkdir /var/log/php\ncd /var/log/php\ntouch php-fpm.error.log\nchmod a+w php-fpm.error.log\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u4e3b\u673a\u4e0a\u6253\u5f00\u5e76\u4fee\u6539 PHP-FPM \u7684\u914d\u7f6e\u6587\u4ef6",(0,l.jsx)(n.code,{children:"conf/php-fpm.conf"}),"\uff0c\u627e\u5230\u5982\u4e0b\u4e00\u884c\uff0c\u5220\u9664\u6ce8\u91ca\uff0c\u5e76\u6539\u503c\u4e3a\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"php_admin_value[error_log] = /var/log/php/php-fpm.error.log\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u91cd\u542f PHP-FPM \u5bb9\u5668\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"53-mysql-\u65e5\u5fd7",children:"5.3 MySQL \u65e5\u5fd7"}),"\n",(0,l.jsxs)(n.p,{children:["\u56e0\u4e3a MySQL \u5bb9\u5668\u4e2d\u7684 MySQL \u4f7f\u7528\u7684\u662f",(0,l.jsx)(n.code,{children:"mysql"}),"\u7528\u6237\u542f\u52a8\uff0c\u5b83\u65e0\u6cd5\u81ea\u884c\u5728",(0,l.jsx)(n.code,{children:"/var/log"}),"\u4e0b\u7684\u589e\u52a0\u65e5\u5fd7\u6587\u4ef6\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u628a MySQL \u7684\u65e5\u5fd7\u653e\u5728\u4e0e data \u4e00\u6837\u7684\u76ee\u5f55\uff0c\u5373\u9879\u76ee\u7684",(0,l.jsx)(n.code,{children:"mysql"}),"\u76ee\u5f55\u4e0b\uff0c\u5bf9\u5e94\u5bb9\u5668\u4e2d\u7684",(0,l.jsx)(n.code,{children:"/var/log/mysql/"}),"\u76ee\u5f55\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"slow-query-log-file     = /var/log/mysql/mysql.slow.log\nlog-error               = /var/log/mysql/mysql.error.log\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4ee5\u4e0a\u662f mysql.conf \u4e2d\u7684\u65e5\u5fd7\u6587\u4ef6\u7684\u914d\u7f6e\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"6\u6570\u636e\u5e93\u7ba1\u7406",children:"6.\u6570\u636e\u5e93\u7ba1\u7406"}),"\n",(0,l.jsxs)(n.p,{children:["\u672c\u9879\u76ee\u9ed8\u8ba4\u5728",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),"\u4e2d\u4e0d\u5f00\u542f\u4e86\u7528\u4e8e MySQL \u5728\u7ebf\u7ba1\u7406\u7684",(0,l.jsx)(n.em,{children:"phpMyAdmin"}),"\uff0c\u4ee5\u53ca\u7528\u4e8e redis \u5728\u7ebf\u7ba1\u7406\u7684",(0,l.jsx)(n.em,{children:"phpRedisAdmin"}),"\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4fee\u6539\u6216\u5220\u9664\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"61-phpmyadmin",children:"6.1 phpMyAdmin"}),"\n",(0,l.jsxs)(n.p,{children:["phpMyAdmin \u5bb9\u5668\u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e3\u5730\u5740\u662f\uff1a",(0,l.jsx)(n.code,{children:"8080"}),"\uff0c\u6240\u4ee5\u4e3b\u673a\u4e0a\u8bbf\u95ee phpMyAdmin \u7684\u5730\u5740\u662f\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"http://localhost:8080\n"})}),"\n",(0,l.jsx)(n.p,{children:"MySQL \u8fde\u63a5\u4fe1\u606f\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"host\uff1a(\u672c\u9879\u76ee\u7684 MySQL \u5bb9\u5668\u7f51\u7edc)"}),"\n",(0,l.jsxs)(n.li,{children:["port\uff1a",(0,l.jsx)(n.code,{children:"3306"})]}),"\n",(0,l.jsx)(n.li,{children:"username\uff1a\uff08\u624b\u52a8\u5728 phpmyadmin \u754c\u9762\u8f93\u5165\uff09"}),"\n",(0,l.jsx)(n.li,{children:"password\uff1a\uff08\u624b\u52a8\u5728 phpmyadmin \u754c\u9762\u8f93\u5165\uff09"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"62-phpredisadmin",children:"6.2 phpRedisAdmin"}),"\n",(0,l.jsxs)(n.p,{children:["phpRedisAdmin \u5bb9\u5668\u6620\u5c04\u5230\u4e3b\u673a\u7684\u7aef\u53e3\u5730\u5740\u662f\uff1a",(0,l.jsx)(n.code,{children:"8081"}),"\uff0c\u6240\u4ee5\u4e3b\u673a\u4e0a\u8bbf\u95ee phpMyAdmin \u7684\u5730\u5740\u662f\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"http://localhost:8081\n"})}),"\n",(0,l.jsx)(n.p,{children:"Redis \u8fde\u63a5\u4fe1\u606f\u5982\u4e0b\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"host: (\u672c\u9879\u76ee\u7684 Redis \u5bb9\u5668\u7f51\u7edc)"}),"\n",(0,l.jsxs)(n.li,{children:["port: ",(0,l.jsx)(n.code,{children:"6379"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"7\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u5b89\u5168\u4f7f\u7528",children:"7.\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u5b89\u5168\u4f7f\u7528"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u5728\u6b63\u5f0f\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u8bf7\uff1a"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u5728 php.ini \u4e2d\u5173\u95ed XDebug \u8c03\u8bd5"}),"\n",(0,l.jsx)(n.li,{children:"\u589e\u5f3a MySQL \u6570\u636e\u5e93\u8bbf\u95ee\u7684\u5b89\u5168\u7b56\u7565"}),"\n",(0,l.jsx)(n.li,{children:"\u589e\u5f3a redis \u8bbf\u95ee\u7684\u5b89\u5168\u7b56\u7565"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"8-\u5e38\u89c1\u95ee\u9898",children:"8 \u5e38\u89c1\u95ee\u9898"}),"\n",(0,l.jsx)(n.h3,{id:"81-\u5982\u4f55\u5728-php-\u4ee3\u7801\u4e2d\u4f7f\u7528-curl",children:"8.1 \u5982\u4f55\u5728 PHP \u4ee3\u7801\u4e2d\u4f7f\u7528 curl\uff1f"}),"\n",(0,l.jsxs)(n.p,{children:["\u53c2\u8003\u8fd9\u4e2a issue\uff1a",(0,l.jsx)(n.a,{href:"https://github.com/yeszao/dnmp/issues/91",children:"https://github.com/yeszao/dnmp/issues/91"})]}),"\n",(0,l.jsx)(n.h3,{id:"82-docker-\u4f7f\u7528-cron-\u5b9a\u65f6\u4efb\u52a1",children:"8.2 Docker \u4f7f\u7528 cron \u5b9a\u65f6\u4efb\u52a1"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://www.awaimai.com/2615.html",children:"Docker \u4f7f\u7528 cron \u5b9a\u65f6\u4efb\u52a1"})}),"\n",(0,l.jsx)(n.h3,{id:"83-docker-\u5bb9\u5668\u65f6\u95f4",children:"8.3 Docker \u5bb9\u5668\u65f6\u95f4"}),"\n",(0,l.jsxs)(n.p,{children:["\u5bb9\u5668\u65f6\u95f4\u5728.env \u6587\u4ef6\u4e2d\u914d\u7f6e",(0,l.jsx)(n.code,{children:"TZ"}),"\u53d8\u91cf\uff0c\u6240\u6709\u652f\u6301\u7684\u65f6\u533a\u8bf7\u770b",(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:"\u65f6\u533a\u5217\u8868\xb7\u7ef4\u57fa\u767e\u79d1"}),"\u6216\u8005",(0,l.jsx)(n.a,{href:"https://www.php.net/manual/zh/timezones.php",children:"PHP \u6240\u652f\u6301\u7684\u65f6\u533a\u5217\u8868\xb7PHP \u5b98\u7f51"}),"\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"84-\u5982\u4f55\u8fde\u63a5-mysql-\u548c-redis-\u670d\u52a1\u5668",children:"8.4 \u5982\u4f55\u8fde\u63a5 MySQL \u548c Redis \u670d\u52a1\u5668"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u8981\u5206\u4e24\u79cd\u60c5\u51b5\uff0c"}),"\n",(0,l.jsxs)(n.p,{children:["\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5728",(0,l.jsx)(n.strong,{children:"PHP \u4ee3\u7801\u4e2d"}),"\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-php",children:"// \u8fde\u63a5MySQL\n$dbh = new PDO('mysql:host=mysql;dbname=mysql', 'root', '123456');\n\n// \u8fde\u63a5Redis\n$redis = new Redis();\n$redis->connect('redis', 6379);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u56e0\u4e3a\u5bb9\u5668\u4e0e\u5bb9\u5668\u662f",(0,l.jsx)(n.code,{children:"expose"}),"\u7aef\u53e3\u8054\u901a\u7684\uff0c\u800c\u4e14\u5728\u540c\u4e00\u4e2a",(0,l.jsx)(n.code,{children:"networks"}),"\u4e0b\uff0c\u6240\u4ee5\u8fde\u63a5\u7684",(0,l.jsx)(n.code,{children:"host"}),"\u53c2\u6570\u76f4\u63a5\u7528\u5bb9\u5668\u540d\u79f0\uff0c",(0,l.jsx)(n.code,{children:"port"}),"\u53c2\u6570\u5c31\u662f\u5bb9\u5668\u5185\u90e8\u7684\u7aef\u53e3\u3002\u66f4\u591a\u8bf7\u53c2\u8003",(0,l.jsx)(n.a,{href:"https://www.awaimai.com/2138.html",children:"\u300adocker-compose ports \u548c expose \u7684\u533a\u522b\u300b"}),"\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c",(0,l.jsx)(n.strong,{children:"\u5728\u4e3b\u673a\u4e2d"}),"\u901a\u8fc7",(0,l.jsx)(n.strong,{children:"\u547d\u4ee4\u884c"}),"\u6216\u8005",(0,l.jsx)(n.strong,{children:"Navicat"}),"\u7b49\u5de5\u5177\u8fde\u63a5\u3002\u4e3b\u673a\u8981\u8fde\u63a5 mysql \u548c redis \u7684\u8bdd\uff0c\u8981\u6c42\u5bb9\u5668\u5fc5\u987b\u7ecf\u8fc7",(0,l.jsx)(n.code,{children:"ports"}),"\u628a\u7aef\u53e3\u6620\u5c04\u5230\u4e3b\u673a\u4e86\u3002\u4ee5 mysql \u4e3a\u4f8b\uff0c",(0,l.jsx)(n.code,{children:"docker-compose.yml"}),"\u6587\u4ef6\u4e2d\u6709\u8fd9\u6837\u7684",(0,l.jsx)(n.code,{children:"ports"}),"\u914d\u7f6e\uff1a",(0,l.jsx)(n.code,{children:"3306:3306"}),"\uff0c\u5c31\u662f\u4e3b\u673a\u7684 3306 \u548c\u5bb9\u5668\u7684 3306 \u7aef\u53e3\u5f62\u6210\u4e86\u6620\u5c04\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8fde\u63a5\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"mysql -h127.0.0.1 -uroot -p123456 -P3306\nredis-cli -h127.0.0.1\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8fd9\u91cc",(0,l.jsx)(n.code,{children:"host"}),"\u53c2\u6570\u4e0d\u80fd\u7528 localhost \u662f\u56e0\u4e3a\u5b83\u9ed8\u8ba4\u662f\u901a\u8fc7 sock \u6587\u4ef6\u4e0e mysql \u901a\u4fe1\uff0c\u800c\u5bb9\u5668\u4e0e\u4e3b\u673a\u6587\u4ef6\u7cfb\u7edf\u5df2\u7ecf\u9694\u79bb\uff0c\u6240\u4ee5\u9700\u8981\u901a\u8fc7 TCP \u65b9\u5f0f\u8fde\u63a5\uff0c\u6240\u4ee5\u9700\u8981\u6307\u5b9a IP\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"85-\u5bb9\u5668\u5185\u7684-php-\u5982\u4f55\u8fde\u63a5\u5bbf\u4e3b\u673a-mysql",children:"8.5 \u5bb9\u5668\u5185\u7684 php \u5982\u4f55\u8fde\u63a5\u5bbf\u4e3b\u673a MySQL"}),"\n",(0,l.jsxs)(n.p,{children:["1.\u5bbf\u4e3b\u673a\u6267\u884c",(0,l.jsx)(n.code,{children:"ifconfig docker0"}),"\u5f97\u5230",(0,l.jsx)(n.code,{children:"inet"}),"\u5c31\u662f\u8981\u8fde\u63a5\u7684",(0,l.jsx)(n.code,{children:"ip"}),"\u5730\u5740"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"$ ifconfig docker0\ndocker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500\n        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255\n        ...\n"})}),"\n",(0,l.jsx)(n.p,{children:"2.\u8fd0\u884c\u5bbf\u4e3b\u673a Mysql \u547d\u4ee4\u884c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mysql",children:" mysql>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;\n mysql>flush privileges;\n// \u5176\u4e2d\u5404\u5b57\u7b26\u7684\u542b\u4e49\uff1a\n// *.* \u5bf9\u4efb\u610f\u6570\u636e\u5e93\u4efb\u610f\u8868\u6709\u6548\n// \"root\" \"123456\" \u662f\u6570\u636e\u5e93\u7528\u6237\u540d\u548c\u5bc6\u7801\n// '%' \u5141\u8bb8\u8bbf\u95ee\u6570\u636e\u5e93\u7684IP\u5730\u5740\uff0c%\u610f\u601d\u662f\u4efb\u610fIP\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9aIP\n// flush privileges \u5237\u65b0\u6743\u9650\u4fe1\u606f\n"})}),"\n",(0,l.jsxs)(n.p,{children:["3.\u63a5\u7740\u76f4\u63a5 php \u5bb9\u5668\u4f7f\u7528",(0,l.jsx)(n.code,{children:"172.0.17.1:3306"}),"\u8fde\u63a5\u5373\u53ef"]}),"\n",(0,l.jsx)(n.h3,{id:"86-sqlstatehy000-1130-host-1721902-is-not-allowed-to-connect-to-this-mysql-server",children:"8.6 SQLSTATE[HY000] [1130] Host '172.19.0.2' is not allowed to connect to this MySQL server"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u76ee\u524d\u4f7f\u7528 mysql-server ",(0,l.jsx)(n.code,{children:"8.0.28"}),"\u4ee5\u4e0a\u7684\u7248\u672c,php \u7248\u672c\u9700\u8981",(0,l.jsx)(n.code,{children:"7.4.7"}),"\u4ee5\u4e0a\u624d\u80fd\u8fde\u63a5"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"87-docker-\u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d",children:"8.7 Docker \u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://pet2cattle.com/2022/08/docker-container-names-generator",children:"\u5728\u4e0d\u6307\u5b9a\u5bb9\u5668\u540d\u79f0\u65f6,\u662f\u5982\u4f55\u751f\u6210\u5bb9\u5668\u540d"})})]})}function x(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var l=s(6540);const c={},i=l.createContext(c);function r(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);